---
title: "모던 자바스크립트 다이브"
description: "모던 자바스크립트 딥다이브 읽어보기"
language: "Javascript"
category: "Javascript Basic"
update: "2023-02-16"
serisenumber: 1
---
### 시작
---
이미 알고있던 부분은 빠르게 넘기면서 `스코프`, `호이스팅`과 같이 개념적인 부분을 짚고 정리하는 글입니다.
#### 1. 변수 선언 그리고 var
변수를 선언하려면 ES6 이전까지는 `var`를 이용해왔다. `var`키워드에는 여러 단점이 존재한다. `var`키워드 여러 단점 중 가장 대표적인 것은 `블록 레벨 스코프`를 지원하지 않고 `함수 레벨 스코프`를 지원하는 것이다. 이로 인해 의도치 않은 전역 변수가 생성되기도 한다.  
`ES6`에서 `let`과 `const`키워드를 도입한 이유도 `var`키워드의 단점을 보완하기 위해서이다. 각 변수 키워드 및 `스코프`에 대해 알아보기 위해 [let, const와 블록 레벨 스코프](https://poiemaweb.com/es6-block-scope)참조하겠습니다.


##### let
대부분 프로그래밍 언어는 `블록 레벨 스코프`를 따르지만 자바스크립트는 `함수 레벨 스코프`를 따른다.

> `함수 레벨 스코프(Function-level scope)`  
함수 내 선언된 변수는 함수 내에서만 유효하며 외부에서는 참조할 수 없다. 즉, 함수 내부에서 선언한 변수는 지역 변수, 함수 외부에서 선언한 변수는 모두 전역 변수이다.

> `블록 레벨 스코프(Block-level scope)`  
모든 코드 블록`{}`(함수, if문, for문, while문, try/catch문 등)내에서 선언한 변수는 해당 코드 블럭 내에서만 유효하며 해당 코드 블록`{}` 외부에서는 참조할 수 없다. 즉, 코드 블록 내부에서 선언한 변수는 지역 변수이다.

```js {1, 6} showLineNumbers
var foo = 123; // 전역 변수

console.log(foo) // 123

{
  var foo = 456; // 전역 변수
}

console.log(foo) // 456
```

블록 레벨 스코프를 따르지 않는 `var`키워드 상, 코드 블록 내 변수 `foo`는 전연 변수입니다. 하지만 1번 라인에서 전역 변수 foo가 선언되어 있습니다. `var`키워드를 사용하여 선언한 변수는 중복 선언이 허용됩니다. 따라서 위 코드는 전혀 문제가 없습니다. 다만 코드 블록 내(6번 라인)`foo`는 전역 변수이므로 전역에서 선언된 지역 변수 `foo`의 값 123을 새로운 값 456으로 재할당하여 덮어씁니다.  
이런 문제에 대해 `ES6`에서는 `블록 레벨 스코프`를 따르는 변수를 선언하기 위해 `let` 키워드를 제공합니다.

```js showLineNumbers
let foo = 123; // 전역 변수

{
  let foo = 456; // 지역 변수
  let bar = 456; // 지역 변수
}

console.log(foo); // 123
console.log(bar); // ReferenceError: bar is not defined
```
let 키워드로 선언된 변수는 블록 레벨 스코프를 따릅니다. 위 코드를 보면 코드 블록 내 선언된 변수 `foo`는 블록 레벨 스코프를 갖는 지역 변수입니다. 전역에서 선언된 변수 `foo`와 다른 별개의 변수이죠. 또한 변수 `bar`도 블록 레벨 스코프를 갖는 지역 변수입니다. 따라서 전역에서는 변수 `bar`를 참조할 수 없습니다.

