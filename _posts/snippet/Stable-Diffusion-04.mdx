---
title: "[Stable Diffusion] - 4"
description: "같은 이미지를 변형하기"
language: "StableDiffusion"
category: "Generative AI"
update: "2024-03-04"
hide: true
serisenumber: 4
---

### 동일한 스타일의 여러 대상 그리기

동일한 스타일의 여러 대상을 그리는 경우 프롬포트에서 대상의 문구만 변경하고 나머지 프롬프트는 유지하는게 좋습니다.

```text
<!-- Prompt -->
masterpiece, best quality, concept art, extremely datailed,
(watercolor: 1.2), (oil painting: 1.1), (face closeup photo: 1.5), (portrait: 1.5)
one fantasy cute girl, teenage, little girl,
beautiful perfect symmetrical face, small nose and mouth, aesthetic eyes, sharp focus, realism, 8k,
(style of granblue fantasy: 1.1), (style of genshin impect:0.9),
(style of renaissance:0.7), (style of gothic: 0.6), (style of high fantasy:0.5),
artstation, deviantart, pixiv ranking 1st
```

![stable-diffusion-webui-fantasy-girl](/snippets/stableDiffusion/section4/fantasy-girl.png)

`one fantasy cute girl, teenage, little girl`와 같은 문구로 생성한 이미지의 결과 입니다. 이번엔 문구를 변경하여 남성캐릭터를 만들어 보겠습니다.

```text
<!-- Prompt -->
masterpiece, best quality, concept art, extremely datailed,
(watercolor: 1.2), (oil painting: 1.1), (face closeup photo: 1.5), (portrait: 1.5)
one fantasy man, one fantasy fighter, one middle age muscle man,
beautiful perfect symmetrical face, small nose and mouth, aesthetic eyes, sharp focus, realism, 8k,
(style of granblue fantasy: 1.1), (style of genshin impect:0.9),
(style of renaissance:0.7), (style of gothic: 0.6), (style of high fantasy:0.5),
artstation, deviantart, pixiv ranking 1st
```

![stable-diffusion-webui-fantasy-man](/snippets/stableDiffusion/section4/fantasy-man.png)

`one fantasy man, one fantasy fighter, one middle age muscle man`문구로 변경하여 남성캐릭터를 생성한 결과입니다.

다시 한번 수정하여 몬스터와 인간이 섞인 인물을 만들어 보겠습니다.

```text
<!-- Prompt -->
masterpiece, best quality, concept art, extremely datailed,
(watercolor: 1.2), (oil painting: 1.1), (face closeup photo: 1.5), (portrait: 1.5)
one fantasy man, wolf face, one fantasy fighter,
one fantasy werewolf, wolf head, beast golden eyes, one middle age muscle werewolf guy,
beautiful perfect symmetrical face, small nose and mouth, aesthetic eyes, sharp focus, realism, 8k,
(style of granblue fantasy: 1.1), (style of genshin impect:0.9),
(style of renaissance:0.7), (style of gothic: 0.6), (style of high fantasy:0.5),
artstation, deviantart, pixiv ranking 1st
```

`one fantasy werewolf, wolf head, beast golden eyes, one middle age muscle werewolf guy`문구로 변경한 결과입니다.

![stable-diffusion-webui-fantasy-animal-man](/snippets/stableDiffusion/section4/fantasy-animal-man.png)

### 캐릭터의 포즈

프롬프트만으로 포즈를 지시하는 것은 어렵습니다. 대표적인 방법으로는 모델링 프로그램 혹은 3D 드로잉 인형 등으로 포즈를 만들어 그 이미지를 바탕으로 `img2img`로 이미지를 출력하는 방법입니다.

또 다른 방법은 `Extension`중 가장 `like`수가 높은 `ControlNet`도구를 이용하여 이미지를 생성하는것입니다. 후자의 방법이 결과 대비 정확성이 높습니다.

만일 `VRAM`이 `4GB`이하인 경우 `--lowvram`옵션으로 다운그레이드해야 정상적으로 응용할 수 있습니다.

포즈를 취하는 모델을 만들기 위해 `Blender`를 이용하거나 `CLIP STUDIO`같은 모델링 도구를 활용할 수 있습니다. 만일 이마저도 충분하지 않다면 웹에서 특정 포즈를 취한 이미지를 가져와 그 이미지의 포즈대로 이미지를 생성하는 방법이 있죠.

웹으로 지원하는 모델링 도구도 존재하니 써보는것도 좋습니다.

- [CLIP STUDIO](https://www.clipstudio.net)
- [blender](https://www.blender.org/)
- [Magic Poser Web](https://webapp.magicposer.com/)
- [JustSketchMe](https://justsketch.me/)
- [PoseMy.Art](https://posemy.art/)

Magic Poser Web을 이용해 다음과 같이 포즈를 취하게 한뒤 `img2img`로 생성해보겠습니다.

```text
<!-- Prompt -->
masterpiece, best quality, concept art, extremely datailed,
(watercolor: 1.2), (oil painting: 1.1), (face closeup photo: 1.5), (portrait: 1.5)
one fantasy man, one fantasy fighter, one middle age muscle man,
beautiful perfect symmetrical face, small nose and mouth, aesthetic eyes, sharp focus, realism, 8k,
(style of granblue fantasy: 1.1), (style of genshin impect:0.9),
(style of renaissance:0.7), (style of gothic: 0.6), (style of high fantasy:0.5),
artstation, deviantart, pixiv ranking 1st
```

이전 시드와 다른 값으로 선택하여 스타일이 다른 이미지로 생성됩니다.

![stable-diffusion-webui-pose](/snippets/stableDiffusion/section4/pose.png)

결과는 아래와 같습니다.

![stable-diffusion-webui-pose-man](/snippets/stableDiffusion/section4/pose-man.png)

### 이미지를 보충하기

캐릭터를 만들고 이미지 윗 부분이 잘려 있는 경우 덧붙일 수 있습니다. Outpainting 기능을 이용해보겠습니다.

먼저 이미지를 `PNG Info`탭에 업로드하고 `Send to img2img`버튼을 눌러 해당 설정을 `img2img`탭으로 보냅니다.

![stable-diffusion-webui-fantasy-guy-png-info](/snippets/stableDiffusion/section4/fantasy-guy-png-info.png)

`CFG Scale`을 7로, `Denoising strength`(0에 가까울수록 원본이미지를 유지.)를 0.8로, `Sampling method`의 경우 Euler를 선택, 그리고 Script는 `Outpainting mk2`를 선택합니다.

`pixel to expand`는 확장할 픽셀 수입니다. 128 기본값으로 설정합니다. `Mask blur`는 연결부위 흐림 정도입니다. `Outpainting derection`은 확장할 방향입니다. 위로 늘릴 경우 up으로 체크합니다.

결과는 다음과 같습니다.

![stable-diffusion-webui-expand-image](/snippets/stableDiffusion/section4/expand-image.png)