---
title:  "[Docker Mastery] - 14"
description:  "쿠버네티스 Volume"
language:  "devops"
category:  "Docker"
update:  "2024-04-12"
hide:  false
serisenumber:  14
---

## 시작

- [Maximilian Schwarzmüller 님의 Docker & Kubernetes : 실전 가이드 강의를 듣고 작성한 글입니다.](https://www.udemy.com/course/docker-kubernetes-2022/?couponCode=KEEPLEARNING)

### 볼륨

minikube는 호스트내 가상머신입니다. 컨테이너를 배포할때 클러스터 혹은 호스트에서 도커로 작업할 때, 컨테이너가 종료되거나 컨텍스트에서 호스팅하는 Pod가 제거되면 데이터가 유실됐죠. 이제 데이터를 유실하지 않고 관리하는 방법에 대해 알아보겠습니다.

볼륨의 종류로는 일반 볼륨, 영구 볼륨, 영구 볼륨 클레임이 존재합니다.

#### State 이해하기

사용자 생성 데이터, 사용자 계정, 앱에 관한 데이터 들 일반적으로 DB에 저장하지만 예로 파일로도 저장할 수 있죠. 임시 DB테이블인 메모리에 저장할 수도 있구요. 컨테이너가 중지되더라도 이러한 데이터들은 유실되면 안되겠죠.

이제 파드내 컨테이너에 볼륨을 구성하는 방법을 알아봅시다.

쿠버네티스는 마운트 볼륨을 설정하는 것을 지원합니다. 로컬 볼륨(워커노드) 말고도 또한 다른 클라우드 및 호스팅 프롱바이더에서도 실행할 수 있죠. 이에 따라 다양한 유형의 볼륨을 지원합니다.

볼륨은 파드마다 존재합니다. 생명주기도 파드를 따라갑니다. 컨테이너를 중지해도 볼륨을 살아있죠. Pod가 파괴되면 볼륨 또한 파괴됩니다. Pod를 제거한 후에도 볼륨을 유지하는 방법이 존재합니다. 이에 대해서는 차후 알아보겠습니다.

쿠버네티스 볼륨은 도커보다 조금 더 강력합니다. 다양한 드라이버와 유형을 지원하며 데이터가 저장되는 위치를 완벽히 제어할 수 있죠. 도커와 컴포즈는 불가능합니다.

볼륨은 반드시 영구적인 것은 아닙니다. 쿠버네티스에서 컨테이너는 Pod의 재시작에도 살아있지만 볼륨은 제거됩니다. 반면 도커는 볼륨이 살아있죠.