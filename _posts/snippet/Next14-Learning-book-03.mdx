---
title: "[Next.js V14] 정리 노트 - 3"
description: "서버 컴포넌트와 클라이언트 컴포넌트"
language: "Javascript"
category: "NextJS-v14"
update: "2024-06-04"
hide: false
serisenumber: 3
---

## 시작

- 본 내용은 강의 제공 사이트 유데미 Maximilian Schwarzmüller 강사님의 [Next.js 14 & React - The Complete Guide](https://www.udemy.com/course/nextjs-react-the-complete-guide/?couponCode=ST19MT60324) 강의를 듣고 정리하였습니다.

### 서버 컴포넌트와 클라이언트 컴포넌트

`useState`, `useEffect` 등의 리액트 훅은 주로 클라이언트 컴포넌트에서 사용됩니다. 기본적으로 Next.js에서 정의하는 컴포넌트의 경우 서버 컴포넌트입니다.

이 경우 리액트 훅을 이용하려면 어떻게 설정해야하는지와 서버/클라이언트 컴포넌트간 차이는 무엇이 있는지 알아봅시다.

Next.js는 풀스텍 어플리케이션으로 서버사이드에서 데이터를 가져와 이를 패칭하여 사전에 렌더링된 모든 정보들을 사용자에게 제공합니다.

당장 코드 안에서 `console.log()`를 찍어보면 브라우저에서는 표시되지않지만 서버 터미널에서는 표시됩니다. 즉 서버 사이드 렌더링으로 작동하기 때문입니다.

### 서버 컴포넌트

서버 컴포넌트는 사전에 렌더링되어 클라이언트에서 다운로드 받는 자바스크립트 코드를 받지 않아도 되어 성능이 향상됩니다. 또한 사전에 모든 정보가 렌더링되기 때문에 SEO에 유리합니다.

### 클라이언트 컴포넌트

리액트 훅 및 클라이언트에서 작동하는 코드(setInterval 등)나 기능을 사용할 수 있습니다. 이 경우 해당 파일 최상단에 `"use client"`를 명시합니다.

#### 클라이언트 컴포넌트의 효율적 사용

특정 메뉴로 이동한 경우 해당 메뉴의 텍스트를 하이라이트 할 경우도 있을 겁니다. 아래와 같은 방법으로 적용할 수 있습니다.

클라이언트 컴포넌트 구성 요소를 만듭니다.

```js
'use client'

import Link from "next/link"
import { usePathname } from "next/navigation"
import classes from './nav-link.module.css'

export default function NavLink({ href, children }) {

  const path = usePathname();

  return (
    <Link 
      href={href} 
      className={path.startsWith(href) 
        ? `${classes.link} ${classes.active}` 
        : classes.link }
    >
      {children}
    </Link>
}
```

이 클라이언트를 불러와 사용합니다.

```js
export default function MainHeader() {

  return <>
    <nav className={classes.nav}>
      <ul>
        <li>
          <NavLink href="/meals">
            Browse Meals
          </NavLink>
        </li>
        <li>
          <NavLink href="/community">
            Foodies Community
          </NavLink>
        </li>
      </ul>
    </nav>
  </>
}
```